"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ValidationHandler = void 0;
const get_paths_1 = require("../../utils/get-paths");
class ValidationHandler {
    _data;
    constructor({ ...options }) {
        this._data = {
            ...options,
            validations: [],
        };
        this._buildValidations();
    }
    _buildValidations() {
        const validationFilePaths = (0, get_paths_1.getFilePaths)(this._data.validationsPath, true).filter((path) => path.endsWith('.js') || path.endsWith('.ts'));
        for (const validationFilePath of validationFilePaths) {
            const validationFunction = require(validationFilePath);
            if (typeof validationFunction !== 'function') {
                console.log(`Ignoring: Validation ${validationFilePath} does not export a function.`);
                continue;
            }
            this._data.validations.push(validationFunction);
        }
    }
    getValidations() {
        return this._data.validations;
    }
}
exports.ValidationHandler = ValidationHandler;
